---
title: "Homework_3"
author: "Kodiak Soled"
date: "10/11/2019"
output: github_document
always_allow_html: yes
---

# Prework

_Note to TAs: you may need to_ `install.packages(kableExtra)` _to run my code._

### First, we need to load the packages we will need for this homework assignment as well as Jeff's favorite settings that will be applied to this entire R Markdown document:

```{r}
library(viridis)
library(tidyverse)
library(kableExtra)

knitr::opts_chunk$set(
	echo = TRUE,
	warning = FALSE,
	fig.width = 8, 
  fig.height = 6,
  out.width = "90%"
)

options(
  ggplot2.continuous.colour = "viridis",
  ggplot2.continuous.fill = "viridis"
)

scale_colour_discrete = scale_colour_viridis_d

scale_fill_discrete = scale_fill_viridis_d

theme_set(theme_minimal() + theme(legend.position = "bottom"))
```

# Problem 1 

## Instacart Dataset

### We first need to load the data from the `p8105.datasets` and tidy the dataset before we can begin exploring it: 

```{r}
library(p8105.datasets)
data("instacart")

cleaned_instacart = 
  instacart %>%
  janitor::clean_names() %>%
  mutate(product_name = str_to_lower(product_name))
```

### We can use the `str` function to compactly display the internal structure of the data and begin exploring its size and structure: 

```{r}
str(cleaned_instacart)
```

### Description 

* We can see that there are `r nrow(instacart)` observations of `r ncol(instacart)` variables for a total of `r nrow(instacart)*ncol(instacart)` values in the Instacart dataset. The majority of the variables are integers, but four are character vectors (`department`, `aisle`, `product_name`, and `eval_set`). 
* Some key variables in this dataset include the order and product identifier, the name of the product, the name and identifier of the department and aisle, and several variables that include information about the ordering history of each product. 
* An illustrative example in this dataset is that an "organic hass avocado" (product identifier #47209) was purchased by customer #112108 at 10 am on the 4th day of the week. This produce is located in the "fresh fruit" aisle (aisle identifier #24) which is part of the "produce" department (department identifier #4). In total, there were `r sum(pull(cleaned_instacart %>% filter(product_name == "organic hass avocado") %>% count()))` organic hass avocados ordered in this dataset. Another way of looking at this dataset is that customer #112108 placed an order at 10 am (order identifier #1) which had eight items in it ("bulgarian yogurt", "organic 4% milk fat whole milk cottage cheese", "organic celery hearts", "cucumber kirby", "lightly smoked sardines in olive oil", "bag of organic bananas", "organic hass avocado", and "organic whole string chees"e) which came from three departments ("dairy eggs", "produce", and "canned goods").